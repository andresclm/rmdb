{"version":3,"sources":["pages/Details/components/Badge/index.tsx","pages/Details/components/Fact/index.tsx","pages/Details/components/Fact/formatters.ts","pages/Details/queries.ts","pages/Details/utils.ts","assets/arrow-right.svg","pages/Details/components/Review/index.tsx","pages/Details/index.tsx"],"names":["Badge","children","className","Fact","name","data","formatter","style","justifyItems","undefined","moneyFormatter","toLocaleString","getDetails","_key","id","a","detailsQuery","fetch","BASE_URL","API_KEY","response","json","backdrop_path","Vibrant","from","BASE_IMAGE_URL","backdropSize","sm","getPalette","palette","movieDetails","credits","cast","crewPeople","crew","reduce","accu","crewPerson","job","directors","writters","recommendations","results","vibrantColor","DarkVibrant","getHex","videos","filter","video","type","reviews","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","fillRule","d","clipRule","_ref","svgRef","title","props","viewBox","fill","ref","ForwardRef","forwardRef","Review","author","content","url","slice","rel","href","facts","Date","toUTCString","Details","useParams","useQuery","staleTime","Infinity","isLoading","useTrailerModal","showButton","showModal","TrailerModal","PlayButton","Loading","srcSet","md","imageNotFound","media","src","alt","backgroundImage","poster_path","posterSize","release_date","getYear","getFullYear","genres","map","genre","runtime","toHourFormat","tagline","CircularProgress","value","vote_average","overview","Carousel","titleClass","cardType","breakpointsConfig","slidesPerView","sliderClass","wrapperClass","preRenderedSlides","fact","cssMode","review"],"mappings":"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","file":"static/js/4.c61b01fe.chunk.js","sourcesContent":["import React from \"react\";\n\ntype BadgeProps = {\n  children: React.ReactNode;\n};\n\nexport const Badge = ({ children }: BadgeProps): React.ReactElement => (\n  <span className=\"text-xs border px-2 py-1 rounded-md w-auto\">{children}</span>\n);\n","import React from \"react\";\nimport { FactProps } from \"./types\";\n\nexport const Fact = ({\n  name,\n  data,\n  formatter,\n}: FactProps): React.ReactElement => (\n  <section className=\"grid grid-cols-2\" style={{ justifyItems: \"center\" }}>\n    <h3 className=\"text-lg text-gray-800 font-light tracking-wider\">{name}</h3>\n    <p className=\"text-gray-700\">\n      {formatter === undefined ? (data as string | number) : formatter(data)}\n    </p>\n  </section>\n);\n","import { FactConfig } from \"./types\";\nimport { SpokenLanguage } from \"../../types\";\n\ntype FactFormatter = FactConfig[\"formatter\"];\n\nexport const dateFormatter: FactFormatter = (data): string =>\n  new Date(data as string).toUTCString().slice(0, 16);\n\nexport const langFormatter: FactFormatter = (data): string =>\n  (data as SpokenLanguage[])[0]?.name ?? undefined;\n\nexport const moneyFormatter: FactFormatter = (data): string =>\n  `$ ${(data as number)?.toLocaleString()}` ?? undefined;\n","import {\n  MovieDetailsAttr,\n  CastPersonAttr,\n  VideoAttr,\n  ReviewAttr,\n} from \"./types\";\nimport { MovieItemAttr } from \"../../components/Carousel/types\";\nimport {\n  BASE_URL,\n  API_KEY,\n  BASE_IMAGE_URL,\n  backdropSize,\n} from \"../../apiConfig\";\nimport Vibrant from \"node-vibrant\";\nimport { getPrincipalCrew } from \"./utils\";\n\nexport const getDetails = async (\n  _key: string,\n  id: string\n): Promise<\n  Omit<\n    MovieDetailsAttr,\n    \"credits\" | \"recommendations\" | \"videos\" | \"reviews\"\n  > & {\n    credits: {\n      cast: CastPersonAttr[];\n      directors: string[];\n      writters: string[];\n    };\n    recommendations: MovieItemAttr[];\n    vibrantColor: string;\n    videos: VideoAttr[];\n    reviews: ReviewAttr[];\n  }\n> => {\n  // Query\n  const detailsQuery = fetch(\n    `${BASE_URL}movie/${id}?api_key=${API_KEY}&append_to_response=credits,recommendations,videos,reviews`\n  );\n\n  // Requests\n  const response = await detailsQuery;\n  const data = (await response.json()) as MovieDetailsAttr;\n  const palette = data.backdrop_path\n    ? await Vibrant.from(\n        `${BASE_IMAGE_URL}${backdropSize.sm}/${data.backdrop_path}`\n      ).getPalette()\n    : undefined;\n\n  // Formatter\n  const movieDetails = {\n    ...data,\n    credits: {\n      cast: data.credits.cast,\n      ...getPrincipalCrew(data.credits.crew),\n    },\n    recommendations: data.recommendations.results,\n    vibrantColor: palette?.DarkVibrant?.getHex() || \"#555555\",\n    videos: data.videos.results.filter((video) => video.type !== \"Trailer\"),\n    reviews: data.reviews.results,\n  };\n\n  return movieDetails;\n};\n","import { CrewPersonAttr } from \"./types\";\n\nexport const getPrincipalCrew = (\n  crewPeople: CrewPersonAttr[]\n): {\n  directors: string[];\n  writters: string[];\n} =>\n  crewPeople.reduce(\n    (accu, crewPerson) => {\n      switch (crewPerson.job) {\n        case \"Director\":\n          return { ...accu, directors: [...accu.directors, crewPerson.name] };\n        case \"Writer\":\n          return { ...accu, writters: [...accu.writters, crewPerson.name] };\n        default:\n          return accu;\n      }\n    },\n    {\n      directors: [] as string[],\n      writters: [] as string[],\n    }\n  );\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z\",\n  clipRule: \"evenodd\"\n});\n\nvar SvgArrowRight = function SvgArrowRight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    className: \"arrow-right w-6 h-6\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowRight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-right.56df3d82.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { ReactComponent as ArrowRight } from \"../../../../assets/arrow-right.svg\";\n\ntype ReviewProps = {\n  author: string;\n  content: string;\n  url: string;\n};\n\nexport const Review = ({\n  author,\n  content,\n  url,\n}: ReviewProps): React.ReactElement => (\n  <article className=\"w-full shadow-2xl p-8\">\n    <h3 className=\"text-gray-300 mb-4\">{author}</h3>\n    <p className=\"leading-relaxed text-gray-600 mb-6\">{`${content.slice(\n      0,\n      195\n    )}...`}</p>\n    <a\n      rel=\"noopener noreferrer\"\n      target=\"_blank\"\n      href={url}\n      className=\"text-primary inline-flex items-center\"\n    >\n      Read More\n      <ArrowRight className=\"h-4 w-4 ml-1\" />\n    </a>\n  </article>\n);\n","import React, { Fragment } from \"react\";\nimport { getYear, toHourFormat } from \"../../utils/formats\";\nimport { Badge } from \"./components/Badge\";\nimport { CircularProgress } from \"../../components/CircularProgress\";\nimport { Fact } from \"./components/Fact\";\nimport { Carousel } from \"../../components/Carousel\";\nimport { BASE_IMAGE_URL, backdropSize, posterSize } from \"../../apiConfig\";\nimport {\n  dateFormatter,\n  langFormatter,\n  moneyFormatter,\n} from \"./components/Fact/formatters\";\nimport { FactConfig } from \"./components/Fact/types\";\nimport { useQuery } from \"react-query\";\nimport { useParams } from \"react-router-dom\";\nimport { getDetails } from \"./queries\";\nimport { Loading } from \"../../components/Loading\";\nimport { useTrailerModal } from \"../../utils/hooks\";\nimport imageNotFound from \"../../assets/image-not-found.svg\";\nimport { Review } from \"./components/Review\";\n\nconst facts: FactConfig[] = [\n  { name: \"Status\", key: \"status\" },\n  {\n    name: \"Release date\",\n    key: \"release_date\",\n    formatter: dateFormatter,\n  },\n  {\n    name: \"Language\",\n    key: \"spoken_languages\",\n    formatter: langFormatter,\n  },\n  {\n    name: \"Budget\",\n    key: \"budget\",\n    formatter: moneyFormatter,\n  },\n  {\n    name: \"Revenue\",\n    key: \"revenue\",\n    formatter: moneyFormatter,\n  },\n];\n\nconst Details = (): React.ReactElement => {\n  const { id } = useParams<{ id: string }>();\n\n  const { data: movieDetails, isLoading } = useQuery(\n    [\"details\", id],\n    getDetails,\n    {\n      staleTime: Infinity,\n    }\n  );\n\n  const { showButton, showModal, TrailerModal, PlayButton } = useTrailerModal(\n    id\n  );\n\n  return isLoading || movieDetails === undefined ? (\n    <Loading />\n  ) : (\n    <section className=\"pb-16\">\n      <div className=\"relative\">\n        <picture>\n          <source\n            srcSet={\n              movieDetails.backdrop_path\n                ? `${BASE_IMAGE_URL}${backdropSize.md}${movieDetails.backdrop_path}`\n                : imageNotFound\n            }\n            media=\"(min-width: 768px)\"\n          />\n          <img\n            className=\"block absolute left-0 z-0 object-cover w-full h-full bg-gray-500\"\n            style={{ filter: \"grayscale(1) contrast(1.5)\" }}\n            src={\n              movieDetails.backdrop_path\n                ? `${BASE_IMAGE_URL}${backdropSize.sm}${movieDetails.backdrop_path}`\n                : imageNotFound\n            }\n            alt={`${movieDetails.title} backdrop`}\n          />\n        </picture>\n        <div\n          className=\"block absolute left-0 z-10 w-full h-full\"\n          style={{\n            backgroundImage: `linear-gradient(${movieDetails.vibrantColor}E6, #111822)`,\n          }}\n        />\n        <article className=\"px-5 pt-10 flex flex-col relative z-20 max-w-5xl mx-auto md:flex-row md:px-6 md:pt-20 lg:pt-24\">\n          <img\n            className=\"w-full h-full object-cover bg-gray-400 md:w-4/12 md:mt-1 rounded-md md:rounded shadow-md\"\n            src={\n              movieDetails.poster_path\n                ? `${BASE_IMAGE_URL}${posterSize.md}${movieDetails.poster_path}`\n                : imageNotFound\n            }\n            alt={`${movieDetails.title} poster`}\n          />\n          <div className=\"mt-6 text-gray-100 self-center md:mt-0 md:ml-6 md:w-8/12\">\n            <h2 className=\"text-4xl leading-none\">{movieDetails.title}</h2>\n            <div className=\"flex flex-wrap\">\n              <span className=\"mr-6 mt-5\">\n                <Badge>\n                  {movieDetails.release_date\n                    ? getYear(movieDetails.release_date)\n                    : new Date().getFullYear() + 1}\n                </Badge>\n              </span>\n              <span className=\"mt-5 mr-5\">\n                {movieDetails.genres.slice(0, 4).map((genre) => (\n                  <span className=\"mr-1\" key={genre.id}>\n                    <Badge>{genre.name}</Badge>\n                  </span>\n                ))}\n              </span>\n              <p className=\"inline text-gray-200 mt-5 ml-1\">\n                {movieDetails.runtime\n                  ? toHourFormat(movieDetails.runtime)\n                  : toHourFormat(200)}\n              </p>\n            </div>\n            <p className=\"italic mt-5\">\n              {movieDetails.tagline ? `\"${movieDetails.tagline}\"` : undefined}\n            </p>\n            <div className=\"flex items-center mt-5\">\n              <div className=\"w-12 mr-8\">\n                <CircularProgress\n                  value={\n                    movieDetails.vote_average === 0\n                      ? 5\n                      : movieDetails.vote_average\n                  }\n                />\n              </div>\n              {showButton && <PlayButton />}\n            </div>\n            <h3 className=\"mt-5 font-light text-gray-700 text-lg tracking-wide md:text-base\">\n              Overview\n            </h3>\n            <p className=\"mt-3 tracking-wide text-gray-600 text-sm leading-normal\">\n              {movieDetails.overview}\n            </p>\n            {([\"directors\", \"writters\"] as const).map(\n              (job) =>\n                movieDetails.credits[job].length > 0 && (\n                  <Fragment key={job}>\n                    <h3 className=\"capitalize font-light text-gray-800 tracking-wide text-lg mt-12 md:mt-5 md:text-base\">\n                      {job}\n                    </h3>\n                    {movieDetails.credits[job].map((name) => (\n                      <span\n                        key={name}\n                        className=\"inline-block mt-2 mr-3 text-gray-600\"\n                      >\n                        <Badge>{name}</Badge>\n                      </span>\n                    ))}\n                  </Fragment>\n                )\n            )}\n          </div>\n        </article>\n      </div>\n      {movieDetails.credits.cast.length > 0 && (\n        <Carousel\n          title=\"Starring\"\n          titleClass=\"pl-5 md:pl-10 pb-4 md:pb-6\"\n          data={movieDetails.credits.cast.slice(0, 30)}\n          cardType=\"castPerson\"\n          breakpointsConfig={{\n            \"0\": { slidesPerView: 4 },\n            \"470\": { slidesPerView: 5 },\n            \"575\": { slidesPerView: 6 },\n            \"1024\": { slidesPerView: 7 },\n          }}\n          sliderClass=\"px-5 md:px-0 md:mx-5\"\n          wrapperClass=\"mt-16\"\n          preRenderedSlides={5}\n        />\n      )}\n      <div className=\"mt-16 h-40 w-4/5 mx-auto flex flex-col justify-between md:max-w-2xl\">\n        {facts.map(\n          (fact) =>\n            movieDetails[fact.key] !== 0 && (\n              <Fact\n                name={fact.name}\n                formatter={fact.formatter}\n                data={movieDetails[fact.key]}\n                key={fact.key}\n              />\n            )\n        )}\n      </div>\n      {movieDetails.recommendations.length > 0 && (\n        <Carousel\n          title=\"Recommended\"\n          data={movieDetails.recommendations}\n          cardType=\"movie\"\n          titleClass=\"pl-5 pb-4 md:pl-10 md:pb-6\"\n          sliderClass=\"px-5 md:px-0 md:mx-5\"\n          wrapperClass=\"mt-16\"\n          breakpointsConfig={{\n            \"0\": { slidesPerView: 3 },\n            \"575\": { slidesPerView: 4 },\n            \"765\": { slidesPerView: 5 },\n            \"1024\": { slidesPerView: 6 },\n          }}\n          preRenderedSlides={4}\n        />\n      )}\n      {movieDetails.videos.length > 0 && (\n        <Carousel\n          title=\"Videos\"\n          data={movieDetails.videos}\n          cardType=\"trailer\"\n          titleClass=\"pl-5 pb-4 md:pl-10 md:pb-6\"\n          sliderClass=\"mx-5\"\n          wrapperClass=\"mt-16\"\n          breakpointsConfig={{\n            \"0\": { slidesPerView: 1, cssMode: true },\n            \"575\": { slidesPerView: 2, cssMode: true },\n            \"900\": { slidesPerView: 3, cssMode: true },\n          }}\n        />\n      )}\n      {movieDetails.reviews.length > 0 && (\n        <section className=\"max-w-screen-lg lg:mx-auto mt-16\">\n          <h2 className=\"text-gray-800 font-light tracking-wider text-lg pl-5 pb-4 md:pl-10 md:pb-6\">\n            Reviews\n          </h2>\n          <ul className=\"flex flex-col mx-5\">\n            {movieDetails.reviews.map((review) => (\n              <li className=\"mb-5\" key={review.id}>\n                <Review\n                  url={review.url}\n                  author={review.author}\n                  content={review.content}\n                />\n              </li>\n            ))}\n          </ul>\n        </section>\n      )}\n      {showModal && <TrailerModal />}\n    </section>\n  );\n};\n\nexport default Details;\n"],"sourceRoot":""}