(this.webpackJsonprmdb=this.webpackJsonprmdb||[]).push([[5],{253:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a(37),s=a(24);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var u=r.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}),m=function(e){var t=e.svgRef,a=e.title,n=i(e,["svgRef","title"]);return r.a.createElement("svg",o({className:"fill-current h-4 w-4",viewBox:"0 0 20 20",ref:t},n),a?r.a.createElement("title",null,a):null,u)},p=r.a.forwardRef((function(e,t){return r.a.createElement(m,o({svgRef:t},e))})),g=(a.p,Object(n.memo)((function(e){var t=e.label,a=e.options,l=void 0===a?[]:a,c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],u=o[1];function m(e){u(e.target.value)}return r.a.createElement("div",{className:"relative mt-2 sm:m-0 sm:mr-1 w-full"},r.a.createElement("select",{value:i,className:"appearance-none cursor-pointer w-full bg-transparent border border-gray-800 text-gray-800 py-2 sm:py-1 pl-3 pr-6 lowercase focus:outline-none",onBlur:m,onChange:m,disabled:0===l.length},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},t),r.a.createElement("option",{value:""},"All"),l.map((function(e){return r.a.createElement("option",{value:e.value,key:e.value},e.name)}))),r.a.createElement("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-800"},r.a.createElement(p,null)))}))),v=a(21),d=a(13),f=a.n(d),b=a(19),h=a(4),x=function(){var e=Object(b.a)(f.a.mark((function e(t){var a,n,r,l,c,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:1,n=fetch("".concat(h.c,"discover/movie?api_key=").concat(h.a,"&page=").concat(a)),e.next=4,n;case 4:return r=e.sent,e.next=7,r.json();case 7:return l=e.sent,c=l.results,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(f.a.mark((function e(){var t,a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fetch("".concat(h.c,"genre/movie/list?api_key=").concat(h.a)),e.next=3,t;case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,r=n.genres.map((function(e){return{value:e.id.toString(),name:e.name}})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=[{value:"popularity.asc",name:"Popularity Ascending"},{value:"release_date.desc",name:"Release Date Descending"},{value:"release_date.asc",name:"Release Date Ascending"},{value:"revenue.desc",name:"Revenue Descending"},{value:"revenue.asc",name:"Revenue Ascending"},{value:"vote_average.desc",name:"Vote Average Descending"},{value:"vote_average.asc",name:"Vote Average Ascending"}];t.default=function(){var e=Object(l.b)("genres",y,{staleTime:1/0}).data,t=Object(l.a)("discover",x,{staleTime:1/0,getFetchMore:function(e,t){return t.length+1}}),a=t.data,n=t.isLoading,s=t.fetchMore,o=t.isFetchingMore;return r.a.createElement("section",{className:"px-5 max-w-6xl md:pt-24 md:mx-4 lg:mx-auto"},r.a.createElement("div",{className:"flex flex-col md:flex-row justify-around items-center"},r.a.createElement("h2",{className:"lg:pl-16 uppercase text-lg text-gray-800 font-light tracking-wider"},"Movies"),r.a.createElement("div",{className:"pt-5 md:p-0 flex flex-wrap sm:flex-no-wrap justify-center max-w-xl"},r.a.createElement(g,{label:"genre",options:e}),r.a.createElement(g,{label:"sort by",options:w}))),n?r.a.createElement(v.a,null):void 0!==a&&r.a.createElement("div",{className:"pt-12 pb-20 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-x-4 gap-y-6 grid-flow-row-dense"},a.flat().map((function(e){return r.a.createElement(c.a,{key:e.id,id:e.id,imageUrl:e.poster_path,title:e.title,language:e.original_language,releaseDate:e.release_date,voteAvg:e.vote_average})}))),r.a.createElement("div",{className:"flex justify-center items-center h-20 mb-20"},o?r.a.createElement(v.a,{height:"h-auto"}):!n&&r.a.createElement("button",{onClick:function(){s()},className:"uppercase text-gray-800 tracking-widest transition-colors duration-200 hover:text-gray-500"},"Load More")))}}}]);
//# sourceMappingURL=5.454719a7.chunk.js.map